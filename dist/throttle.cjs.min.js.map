{"version":3,"file":"throttle.cjs.min.js","sources":["../src/index.ts"],"sourcesContent":["function throttleInterval(callback: (...args: any[]) => void, interval: number = 1000 / 60, trailing = true) {\n  let allow = true\n  let pending = false\n  return function (...args) {\n    const handle = () => {\n      pending = allow = false\n      callback(...args)\n      setTimeout(() => {\n        if (pending === true) {\n          handle()\n          return\n        }\n        allow = true\n      }, interval)\n    }\n    if (allow) {\n      handle()\n      return\n    }\n    if (trailing) {\n      pending = true\n    }\n  }\n}\n\nfunction throttleAnimationFrame(callback) {\n  if (!window || !window.requestAnimationFrame) {\n    console.warn('[throttle warn]: requestAnimationFrame is not supported, throttle will use fixed time')\n    return throttleInterval(callback, 1000 / 60, true)\n  }\n  let running = false\n  return function (...args) {\n    if (!running) {\n      running = true\n      window.requestAnimationFrame(() => {\n        running = false\n        callback(...args)\n      })\n    }\n  }\n}\n\nfunction throttle(callback: (...args: any[]) => void, interval: number, trailing?: boolean): (...args: any[]) => void\nfunction throttle(callback: (...args: any[]) => void, useAnimationFrame: boolean): (...args: any[]) => void\nfunction throttle(callback: (...args: any[]) => void, interval: number | boolean, trailing = true) {\n  if (typeof interval === 'number' || interval === false) {\n    return throttleInterval(callback, interval === false ? undefined : interval, trailing)\n  }\n\n  if (interval === true) {\n    return throttleAnimationFrame(callback)\n  }\n}\n\nexport {throttle as default}\n"],"names":["throttleInterval","callback","interval","trailing","allow","pending","args","handle","setTimeout","undefined","window","requestAnimationFrame","running","throttleAnimationFrame"],"mappings":"aAAA,SAASA,EAAiBC,EAAoCC,EAAmB,IAAO,GAAIC,GAAW,GACrG,IAAIC,GAAQ,EACRC,GAAU,EACd,OAAO,YAAaC,GAClB,MAAMC,EAAS,KACbF,EAAUD,GAAQ,EAClBH,KAAYK,GACZE,YAAW,MACO,IAAZH,EAIJD,GAAQ,EAHNG,MAIDL,IAEDE,EACFG,IAGEJ,IACFE,GAAU,mBAwBhB,SAAkBJ,EAAoCC,EAA4BC,GAAW,GAC3F,MAAwB,iBAAbD,IAAsC,IAAbA,EAC3BF,EAAiBC,GAAuB,IAAbC,OAAqBO,EAAYP,EAAUC,IAG9D,IAAbD,EAxBN,SAAgCD,GAC9B,IAAKS,SAAWA,OAAOC,sBAErB,OAAOX,EAAiBC,EAAU,IAAO,IAAI,GAE/C,IAAIW,GAAU,EACd,OAAO,YAAaN,GACbM,IACHA,GAAU,EACVF,OAAOC,uBAAsB,KAC3BC,GAAU,EACVX,KAAYK,QAcTO,CAAuBZ,QADhC"}