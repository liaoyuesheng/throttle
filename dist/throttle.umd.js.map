{"version":3,"file":"throttle.umd.js","sources":["../src/index.ts"],"sourcesContent":["function throttleInterval(callback: (...args: any[]) => void, interval: number = 1000 / 60, trailing = true) {\n  let allow = true\n  let pending = false\n  return function (...args) {\n    const handle = () => {\n      pending = allow = false\n      callback(...args)\n      setTimeout(() => {\n        if (pending === true) {\n          handle()\n          return\n        }\n        allow = true\n      }, interval)\n    }\n    if (allow) {\n      handle()\n      return\n    }\n    if (trailing) {\n      pending = true\n    }\n  }\n}\n\nfunction throttleAnimationFrame(callback) {\n  if (!window || !window.requestAnimationFrame) {\n    console.warn('[throttle warn]: requestAnimationFrame is not supported, throttle will use fixed time')\n    return throttleInterval(callback, 1000 / 60, true)\n  }\n  let running = false\n  return function (...args) {\n    if (!running) {\n      running = true\n      window.requestAnimationFrame(() => {\n        running = false\n        callback(...args)\n      })\n    }\n  }\n}\n\nfunction throttle(callback: (...args: any[]) => void, interval: number, trailing?: boolean): (...args: any[]) => void\nfunction throttle(callback: (...args: any[]) => void, useAnimationFrame: boolean): (...args: any[]) => void\nfunction throttle(callback: (...args: any[]) => void, interval: number | boolean, trailing = true) {\n  if (typeof interval === 'number' || interval === false) {\n    return throttleInterval(callback, interval === false ? undefined : interval, trailing)\n  }\n\n  if (interval === true) {\n    return throttleAnimationFrame(callback)\n  }\n}\n\nexport {throttle as default}\n"],"names":[],"mappings":";;;;;;IAAA,SAAS,gBAAgB,CAAC,QAAkC,EAAE,WAAmB,IAAI,GAAG,EAAE,EAAE,QAAQ,GAAG,IAAI;QACzG,IAAI,KAAK,GAAG,IAAI,CAAA;QAChB,IAAI,OAAO,GAAG,KAAK,CAAA;QACnB,OAAO,UAAU,GAAG,IAAI;YACtB,MAAM,MAAM,GAAG;gBACb,OAAO,GAAG,KAAK,GAAG,KAAK,CAAA;gBACvB,QAAQ,CAAC,GAAG,IAAI,CAAC,CAAA;gBACjB,UAAU,CAAC;oBACT,IAAI,OAAO,KAAK,IAAI,EAAE;wBACpB,MAAM,EAAE,CAAA;wBACR,OAAM;qBACP;oBACD,KAAK,GAAG,IAAI,CAAA;iBACb,EAAE,QAAQ,CAAC,CAAA;aACb,CAAA;YACD,IAAI,KAAK,EAAE;gBACT,MAAM,EAAE,CAAA;gBACR,OAAM;aACP;YACD,IAAI,QAAQ,EAAE;gBACZ,OAAO,GAAG,IAAI,CAAA;aACf;SACF,CAAA;IACH,CAAC;IAED,SAAS,sBAAsB,CAAC,QAAQ;QACtC,IAAI,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,qBAAqB,EAAE;YAC5C,OAAO,CAAC,IAAI,CAAC,uFAAuF,CAAC,CAAA;YACrG,OAAO,gBAAgB,CAAC,QAAQ,EAAE,IAAI,GAAG,EAAE,EAAE,IAAI,CAAC,CAAA;SACnD;QACD,IAAI,OAAO,GAAG,KAAK,CAAA;QACnB,OAAO,UAAU,GAAG,IAAI;YACtB,IAAI,CAAC,OAAO,EAAE;gBACZ,OAAO,GAAG,IAAI,CAAA;gBACd,MAAM,CAAC,qBAAqB,CAAC;oBAC3B,OAAO,GAAG,KAAK,CAAA;oBACf,QAAQ,CAAC,GAAG,IAAI,CAAC,CAAA;iBAClB,CAAC,CAAA;aACH;SACF,CAAA;IACH,CAAC;IAID,SAAS,QAAQ,CAAC,QAAkC,EAAE,QAA0B,EAAE,QAAQ,GAAG,IAAI;QAC/F,IAAI,OAAO,QAAQ,KAAK,QAAQ,IAAI,QAAQ,KAAK,KAAK,EAAE;YACtD,OAAO,gBAAgB,CAAC,QAAQ,EAAE,QAAQ,KAAK,KAAK,GAAG,SAAS,GAAG,QAAQ,EAAE,QAAQ,CAAC,CAAA;SACvF;QAED,IAAI,QAAQ,KAAK,IAAI,EAAE;YACrB,OAAO,sBAAsB,CAAC,QAAQ,CAAC,CAAA;SACxC;IACH;;;;;;;;"}